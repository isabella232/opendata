{% resource 'advancedsearch/javascript/clear-all-fields.js' %}
{%- set prev_query = c.advanced_search.last_query -%}

<div class="search-container control-group p-4">
    <form class="advanced-search-form" method="post">
        <div class="row">
            {% snippet 'advanced_search/display_field.html', field=input_fields.search_query, prev_query=prev_query %}
        </div>
        <div>
            <div>
                <h2>{{_('Features')}}</h2>
            </div>
            <div class="row">
                <div class="col-sm-6 col-md-3">
                    {% snippet 'advanced_search/display_field.html', field=input_fields.category, prev_query=prev_query %}
                </div>
                <div class="col-sm-6 col-md-3">
                    {% snippet 'advanced_search/display_field.html', field=input_fields.publisher, prev_query=prev_query %}
                </div>
                <div class="col-sm-6 col-md-3">
                    {% snippet 'advanced_search/display_field.html', field=input_fields.license, prev_query=prev_query %}
                </div>
                <div class="col-sm-6 col-md-3">
                    {% snippet 'advanced_search/display_field.html', field=input_fields.format, prev_query=prev_query %}
                </div>
            </div>
        </div>
        <div class="d-flex flex-wrap mb-4 row">
            <!-- This margin is actually off by 1px, compared to the row margin, but it is not visible -->
            <div class="mx-3">
                {% snippet 'advanced_search/display_field.html', field=input_fields.released, prev_query=prev_query %}
            </div>
            <div class="mx-3">
                {% snippet 'advanced_search/display_field.html', field=input_fields.updated, prev_query=prev_query %}
            </div>
        </div>
        <div>
        <button type="submit" class="suomi-button suomi-button-primary mr-3">
            {{_('Search')}}
        </button>
        <button name="clear" class="suomi-button suomi-button-secondary" data-module="clear-all-fields">
            {{_('Clear fields')}}
        </button>
        </div>
    </form>
</div>